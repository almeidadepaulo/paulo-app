-- Configura View
SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO

-- Apaga view
IF  EXISTS (SELECT * FROM sys.views WHERE object_id = OBJECT_ID(N'[dbo].[VW_BKN045]'))
DROP VIEW [dbo].[VW_BKN045]
GO

-- Cria View
CREATE VIEW [dbo].[VW_BKN045]
WITH ENCRYPTION
AS

  SELECT 
  
	BKN045.BKN045_NR_BANCO
	,BKN045.BKN045_NR_CEDE
	,BKN045.BKN045_NR_CPFCNPJ
	,BKN045.BKN045_NR_CONTRA
	,BKN045.BKN045_QT_PARC
	,BKN045.BKN045_TX_MEDPON
	,BKN045.BKN045_NR_PZMEDIO
	,BKN045.BKN045_VL_FUTURO
	,BKN045.BKN045_CD_PROD
	,BKN045.BKN045_NR_DIAS
	,BKN045.BKN045_TP_RATING
	,BKN045.BKN045_NR_LOTE
	,BKN045.BKN045_NR_TAXA
	,BKN045.BKN045_ST_LOTE
	,BKN045.BKN045_CD_PERCESS
	,BKN045.BKN045_NR_MKCESS
	,BKN045.BKN045_VL_NOMINAL
	,BKN045.BKN045_VL_PRESENTE
	,BKN045.BKN045_NR_OPESIS
	,BKN045.BKN045_DT_INCSIS
	,BKN045.BKN045_DT_ATUSIS

	,BN004.BN004_NM_PROD

	,BN001.BN001_NR_GRUPO
	,BN001.BN001_NM_GRUPO
   
  FROM BKN045 AS BKN045

  LEFT OUTER JOIN BN001 AS BN001
  ON BKN045.BKN045_CD_PERCESS = BN001.BN001_NR_GRUPO
  
  INNER JOIN BN004 AS BN004
  ON BN004.BN004_NR_PROD = BKN045.BKN045_CD_PROD

GO


